db를 써볼건데, 표처럼 데이터를 보관하는 관계형 db(sql계열), 비관계형 db(몽고, 클라우드 파이어스토어 등)가 있다. 몽고db는 obj처럼 데이터를 저장할 수 있다. sql문법이 필요없기 때문에 몽고db는 진입장벽이 낮다. 분산처리도 잘해준다.

관계형 데이터베이스는 데이터를 엑셀처럼 표에 저장합니다.
데이터 입출력시 SQL이라는 언어를 사용해야하고 미리 스키마 정의(표만들기)도 해야하고 데이터 중복저장을 피하기 위해 정규화해야하고 여러가지 귀찮은 점들을 신경써야합니다.
주로 안정적인 데이터저장과 운영이 필요한 곳에서 쓰면 좋습니다.

비관계형 데이터베이스는 자료를 조금 더 자유로운 형식으로 저장할 수 있고
SQL 언어, 스키마 정의(표 만들기), 정규화 이런게 대부분 필요없습니다.
분산처리를 기본적으로 잘해서 주로 SNS 서비스처럼 많은 데이터 입출력이 필요할 때도 강점을 보입니다. 데이터를 자바스크립트 object자료형과 똑같은 모양으로 저장할 수 있어서 편리합니다.

MongoDB의 데이터 저장 방식
collection을 하나 만들어서 그 안에 document 를 만들어서 데이터를 기록하는 식으로 데이터들을 저장합니다.
비유하자면 collection은 폴더, document는 파일이라고 생각합시다.
Nodejs 강의에선 collection이 폴더, document가 데이터 한 줄이라고 한거같은데 그렇게 생각해도 됩니다.

{ 데이터이름1 : 값1, 데이터이름2 : 값2 ... }
document에 데이터를 기록할 때는 자바스크립트 object 자료형과 똑같이 저장하면 됩니다.

object 자료형은 이렇게 데이터를 저장하는데 이거 그대로 사용하면 됩니다.

### 0903

database에 데이터를 add해보자. 몽고db에 들어가서 데이터를 추가하면 database name은 하나의 프로젝트(사이트 하나당 하나가 일반적이나, 때에 따라 여러개의 db를 생성하기도 함), collection name은 하나의 '폴더'라고 생각하면 된다. collection 폴더 안에 여러개의 document(메모장 파일. 여기에 객체 자료들을 저장함)를 또 하위저장하는 구조가 됨.
insert document를 누르면 키와 값을 입력하는 공간이 있고, 제일 상단에는 기본적으로 부여되는 doc \_id번호가 있다.

// DB를 불러왔으면 페이지는 이제 어떻게 꾸미는가?
모든 개발자들 다 똑같다. 먼저 구현하고 싶은 기능을 '한글'로 풀어써봐라. 그 다음엔 그것에 맞게

1. HTML페이지를 만들어 놓음(뼈대)
2. 그 페이지 방문하면 DB에서 글 꺼내옴
3. 글들을 HTML에 꽂아넣음

// 기본적으로 next에서 라우팅 하는 방법은 다들 아실걸요. 근데 1000개도 넘는 페이지 만들겁니까? 그럴때에는 dynamic route 쓰면 됩니다. 비슷한 페이지는 여러개 만들 필요가 없습니다.

1. 우선 폴더를 [작명] 작명합니다.
2. 그러면 예를들어, detail/~ 뒤에 아무거나 입력해서 접속해도 하위 page.js를 보여줄것임.
3. 근데 진짜 '아무거나'라고 해서 똑같은 내용만 보여주면 안되니까. 범위를 지정해주려면, 여타 다른 블로그의 라우팅 방식처럼, 게시글의 id값(유저가 URL에 입력할 값)을 detail/???에 들어오게 하면 되지요. 방법은 detail/??? 이하에 올 컴포넌트 안에서 props를 출력해보면 params에 대한 정보가 나온다!

### 0908

1. 상세페이지 만드는 것처럼 url과 여러페이지 만들려면 [Dynamic Route] 사용
2. 현재 URL이 뭔지 궁금하면 props/useRouter
3. 페이지 이동, prefetch 등은 useRouter

- usePathname() 쓰면 현재 URL 출력해주고
  useSearchParams() 쓰면 search parameter (query string) 출력해주고
  useParams() 쓰면 [dynamic route]에 입력한내용 (URL 파라미터) 을 출력해줍니다.

### 0910

+글 작성 기능을 넣어보자!
순서대로,

1. 글 작성 페이지 필요하겠쬬?
2. 버튼 누르면 DB에 저장하는 방식? no!! 유저가 글에 공백이나 기타 이상한 것을 담아 보낼 수 있기 때문에 db에 '바로' 저장하는건 위험한 행동이다. 중간에 서버를 하나를 둬서 글 검사하도록 합니다.(이런 방식을 무슨 3-tier architecture 모라모라 한답니다.)
3. 서버라는건 뭐 해달라고하면 요청하면 해주는 프로그램. 서버 프로그램은 어떻게 짜는데요 그럼?
   그 형식은 /URL + method(GET,POST,PUT,DELETE,PATCH 등)로 짜면 된다. method는 정확한 기능들이 나누어져 있습니다.

-next에서 서버 기능을 개발하는건 두가지 방식이 있음.
첫번재는 루트경로에 pages/api/..js 파일을 만드는것,
다른 하나는 app/api/..js 를 만드는건데 후자가 더 최신에 나온것이긴 하다만 강의날을 기준으로 아직 나사빠진 기능이 더 많아서 page/api/~로 진행

-next는 자동 라우팅 기능이 있기 때문에 서버기능을 위해 pages/api와 같이 파일과 폴더를 만들어 놓으면 어떤 사람이 /apit/test로 CRUD와 관련된 요청을하면 '파일안의 코드'를 실행시켜줌!
